{
	"script": [
		"double*(",
			"highDx = dx",
			"highDz = dz",
			"lowDx  = dx",
			"lowDz  = dz",
		")",
		"if (maxWavelength >= minWavelength:",
			"double*(",
				"theta      = seed.nextDouble(tau)",
				"unitX      = cos(theta)",
				"unitZ      = sin(theta)",
				"goldenCos  = cos(goldenAngle)",
				"goldenSin  = sin(goldenAngle)",
				"decay      = 2.0L ^ (-1.0L / 64.0L)",
			")",
			"minWavelength /= tau",
			"maxWavelength /= tau",
			"for (double wavelength = maxWavelength, wavelength >= minWavelength, wavelength *= decay:",
				"double*(",
					"phase             = (seed := seed.newSeed()).nextDouble(tau)",
					"projection        = (unitX * x + unitZ * z) / wavelength + phase",
					"adjustedAmplitude = ((unitX * -dz + unitZ * dx) / (sqrt(dx ^ 2 + dz ^ 2) + dampening)) ^ 2",
					"addedValue        = fastSin(projection) * adjustedAmplitude * wavelength",
					"addedDerivative   = fastCos(projection) * adjustedAmplitude",
					"nextUnitX         = unitX * goldenCos + unitZ * -goldenSin",
					"nextUnitZ         = unitX * goldenSin + unitZ *  goldenCos",
				")",
				"highY  += addedValue",
				"highDx += addedDerivative * unitX",
				"highDz += addedDerivative * unitZ",
				"if (wavelength >= midWavelength:",
					"lowY  += addedValue",
					"lowDx += addedDerivative * unitX",
					"lowDz += addedDerivative * unitZ",
				")",
				"unitX = nextUnitX",
				"unitZ = nextUnitZ",
			")",
		")",
		"return(",
			"DualSineWaveErosionData.new(",
				"SineWaveErosionData.new(highY, highDx, highDz),",
				"SineWaveErosionData.new( lowY,  lowDx,  lowDz)",
			")",
		")"
	],
	"inputs": [
		{ "name": "lowY",          "type": "double", "default": "0.0L" },
		{ "name": "highY",         "type": "double", "default": "0.0L" },
		{ "name": "dx",            "type": "double" },
		{ "name": "dz",            "type": "double" },
		{ "name": "minWavelength", "type": "double" },
		{ "name": "midWavelength", "type": "double" },
		{ "name": "maxWavelength", "type": "double" },
		{ "name": "seed",          "type": "long"   },
		{ "name": "dampening",     "type": "double", "default": "4.0L" }
	]
}