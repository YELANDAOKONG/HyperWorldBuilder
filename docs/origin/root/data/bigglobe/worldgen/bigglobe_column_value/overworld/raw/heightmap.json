{
	"type": "bigglobe:script",
	"params": {
		"type": "double",
		"is_3d": false
	},
	"script": [
		"double crease(double*(heightmap, amp):",
			"amp *= creased_hilliness",
			"amp = amp / sqrt(amp ^ 2 + 1.0L)",
			"heightmap = 0.125L / (heightmap ^ 2 + 0.125L)",
			"heightmap * amp",
		")",
		"double*(",
			"w1 = 0.5L / (1.0L - 0.125L)",
			"w2 = 0.25L / (1.0L - 0.125L)",
			"w3 = 0.125L / (1.0L - 0.125L)",
		")",
		"`bigglobe:overworld/sea_level` + (",
			"+ 512.0L * crease(",
				"`heightmap/4096` * w1 + `heightmap/2048` * w2 + `heightmap/1024` * w3,",
				"`amp/4096` * w1 + `amp/2048` * w2 + `amp/1024` * w3",
			")",
			"+ 256.0L * crease(",
				"`heightmap/2048` * w1 + `heightmap/1024` * w2 + `heightmap/512` * w3,",
				"`amp/2048` * w1 + `amp/1024` * w2 + `amp/512` * w3",
			")",
			"+ 128.0L * crease(",
				"`heightmap/1024` * w1 + `heightmap/512` * w2 + `heightmap/256` * w3,",
				"`amp/1024` * w1 + `amp/512` * w2 + `amp/256` * w3",
			")",
			"+ 64.0L * crease(",
				"`heightmap/512` * w1 + `heightmap/256` * w2 + `heightmap/128` * w3,",
				"`amp/512` * w1 + `amp/256` * w2 + `amp/128` * w3",
			")",
			"+ 32.0L * crease(",
				"`heightmap/256` * w1 + `heightmap/128` * w2 + `heightmap/64` * w3,",
				"`amp/256` * w1 + `amp/128` * w2 + `amp/64` * w3",
			")",
			";(",
				"+ 16.0L * crease(",
					"`heightmap/128` * w1 + `heightmap/64` * w2 + `heightmap/32` * w3,",
					"`amp/128` * w1 + `amp/64` * w2 + `amp/32` * w3",
				")",
				"+ 8.0L * crease(",
					"`heightmap/64` * w1 + `heightmap/32` * w2 + `heightmap/16` * w3,",
					"`amp/64` * w1 + `amp/32` * w2 + `amp/16` * w3",
				")",
				"+ 4.0L * crease(",
					"`heightmap/32` * w1 + `heightmap/16` * w2 + `heightmap/8` * w3,",
					"`amp/32` * w1 + `amp/16` * w2 + `amp/8` * w3",
				")",
				"+ 2.0L * crease(",
					"`heightmap/16` * w1 + `heightmap/8` * w2 + `heightmap/4` * w3,",
					"`amp/16` * w1 + `amp/8` * w2 + `amp/4` * w3",
				")",
			")",
		")"
	]
}